<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Stories - Handloom Weavers Nexus</title>
    <link rel="stylesheet" href="/css/variables.css">
    <link rel="stylesheet" href="/css/base.css">
    <link rel="stylesheet" href="/css/layout.css">
    <link rel="stylesheet" href="/css/components.css">
    <link rel="stylesheet" href="/css/pages.css">
    <style>
        .info-hero {
            background: var(--color-surface);
            padding: 8rem 2rem;
            text-align: center;
            border-bottom: 1px solid var(--color-border);
            background-image: linear-gradient(rgba(249, 243, 240, 0.9), rgba(249, 243, 240, 0.9)), url('/assets/images/sarees/saree_014.jpg');
            background-size: cover;
            background-position: center;
        }

        .info-hero h1 {
            font-family: var(--font-heading);
            font-size: 4rem;
            color: var(--color-dark);
            margin-bottom: 1rem;
        }

        .info-content {
            line-height: 2;
            color: #444;
            font-size: 1.1rem;
        }

        .img-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 2rem;
            margin: 3rem 0;
        }

        .img-grid img {
            width: 100%;
            height: 400px;
            object-fit: cover;
            border-radius: 20px;
        }
    </style>
</head>

<body>
    <div class="app-shell">
        <div id="header-placeholder"></div>
        <div id="sidebar-placeholder"></div>
        <main class="main-content no-sidebar">
            <section class="info-hero">
                <h1>Our <em>Story</em></h1>
                <p style="color: var(--color-accent); font-weight: 600; font-size: 1.1rem;">Weaving traditions into the
                    digital age</p>
            </section>

            <article class="info-content">
                <p
                    style="font-size: 1.4rem; font-family: var(--font-heading); text-align: center; margin-bottom: 4rem; color: var(--color-dark);">
                    Handloom Nexus was born from a simple yet powerful vision: to bridge the gap between India's
                    legendary weavers and the global connoisseurs of fine craft.
                </p>

                <div class="img-grid">
                    <img src="/assets/images/sarees/saree_018.jpeg" alt="Traditional Weaving">
                    <img src="/assets/images/sarees/saree_012.jpg" alt="Artisan at work">
                </div>

                <h2>The Legend of the Loom</h2>
                <p>For centuries, Indian handloom has been the hallmark of luxury, culture, and identity. Every thread
                    tells a story of a region, a family, and an ancient technique passed down through generations.
                    However, in an era of fast fashion, these master artisans often found themselves disconnected from
                    the final consumer.</p>

                <p>We created Handloom Nexus to restore that connection. By digitizing the marketplace while preserving
                    the sanctity of the craft, we empower weavers to showcase their work directly, ensuring they receive
                    fair value for their mastery.</p>

                <h2>Our Mission</h2>
                <p>To celebrate authentic craftsmanship, promote sustainable fashion, and ensure the survival of
                    handloom traditions by making them accessible, transparent, and rewarding for both creators and
                    buyers.</p>
                <section id="weaver-stories" class="info-content" style="margin-top: 0;">
                    <h2 style="text-align: center; margin-bottom: 3rem;"><em>Stories</em></h2>
                    <div id="stories-grid" class="img-grid">
                        <!-- Stories will be loaded here -->
                    </div>
                </section>

                <div id="footer-placeholder"></div>
        </main>
    </div>

    <script src="/js/api.js"></script>
    <script src="/js/auth.js"></script>
    <script src="/js/components.js"></script>
    <script src="/js/notifications.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', async () => {
            await components.injectHeader();
            await components.injectSidebar();
            components.injectFooter();

            // Load Artisan Stories
            try {
                const response = await api.get('/api/stories');
                const stories = response.data || [];
                const grid = document.getElementById('stories-grid');

                if (stories.length > 0) {
                    grid.innerHTML = stories.map(story => `
                        <div class="story-card" style="margin-bottom: 3rem; cursor: pointer;" onclick="window.location.href='/pages/story-detail.html?id=${story.id}'">
                            <div style="overflow: hidden; border-radius: 20px; margin-bottom: 1.5rem; height: 400px; position: relative;" class="story-img-container">
                                <img src="/${story.media_path}" alt="Story by ${story.weaver_name}" style="width: 100%; height: 100%; object-fit: cover; transition: transform 0.5s ease;">
                            </div>
                            <h3 style="font-family: var(--font-heading); color: var(--color-dark); margin-bottom: 0.5rem;">${story.weaver_name}'s Craft</h3>
                            <p style="font-style: italic; color: #666; line-height: 1.6; margin-bottom: 1rem;">"${story.caption}"</p>
                            <a href="/pages/story-detail.html?id=${story.id}" class="btn btn-secondary btn-sm" style="border-radius: var(--radius-full); padding: 0.5rem 1.5rem;">Read Full Story</a>
                        </div>
                    `).join('');
                } else {
                    document.getElementById('weaver-stories').style.display = 'none';
                }
            } catch (error) {
                console.error('Failed to load stories:', error);
            }
        });
    </script>
</body>

</html>